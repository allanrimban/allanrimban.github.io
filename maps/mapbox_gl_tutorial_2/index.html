<!DOCTYPE html>
<html>
    <head>
        
        <meta charset='utf-8' />
        <title>NYC motor vehicle collisions</title>
        <meta name='viewport' content='initial-scale=1, maximum-scale=1,user-scalable=no' />
        
        <!--link to the mapbox gl js library-->
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.46.0/mapbox-gl.js'></script>
        
        <!--link to the mapbox styles-->
        <link href='https://api.mapbox.com/mapbox-gl-js/v0.46.0/mapbox-gl.css' rel='stylesheet' />
        
        <!--style for the project-->
        <link href="style.css" rel="stylesheet" type="text/css">
                      
    </head>
    
    <body>
        <div id='map'></div>
        <div id='console'>
            <h1>Motor vehicle collisions</h1>
            <p>Data: <a href='https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95'>Motor vehicle collision injuries and deaths in NYC, Jan 2016</a></p>
            <div class='session'>
                <h2>Casualty</h2>
                <div class='row colors'></div>
                <div class='row labels'>
                    <div class='label'>0</div>
                    <div class='label'>1</div>
                    <div class='label'>2</div>
                    <div class='label'>3</div>
                    <div class='label'>4</div>
                    <div class='label'>5</div>
                </div>
            </div>
        </div>
        
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoiYWxsYW5yaW1iYW4iLCJhIjoiZWEyYTc5NDhmZjdmYjQzM2I3MDdkN2I4OTQ3MjQyNWEifQ.U2GPM8lv7x--qHhbjNo5Ug';
            
            //Suffice it to say that this is how we call a mapbox basemap
            var map = new mapboxgl.Map({
              container: 'map', // container element id
              style: 'mapbox://styles/mapbox/light-v9',
              center: [-74.0059, 40.7128], // initial map center in [lon, lat]
              zoom: 12
            });
            
            //Load the data, here we go
            map.on('load', function(){
                map.addLayer({
                    id: 'collisions',
                    type: 'circle',
                    source: {
                        type: 'geojson',
                        data: 'collisions1601.geojson'
                    }
                    paint: {
                        'circle-radius': [
                            'interpolate',
                            //NOTE: THE TUTORIAL MADE A MISTAKE ON THIS. THEY DUPLICATED THE INTERPOLATE FOR CIRCLE-COLOR. SEE SOURCE CODE OF THE DEMO.
                            ['exponential', 1],
                            ['number', ['get','Casualty']],
                            0, 4,
                            5, 24
                        ],
                        'circle-color': [
                            'interpolate',['linear'],
                            ['number', ['get','Casualty']
                            ],
                            0, '#2DC4B2',
                            1, '#3BB3C3',
                            2, '#669EC4',
                            3, '#8B88B6',
                            4, '#A2719B',
                            5, '#AA5E79'

                        ],
                        'circle-opacity': 0.8
                    
                }                
                }, 'admin-2-boundaries-dispute');
            });
            

        </script>
    </body>
</html>
